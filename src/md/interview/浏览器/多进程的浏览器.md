## [多进程的浏览器](https://segmentfault.com/a/1190000012925872)
- 浏览器是多进程的。
- 浏览器之所以能够运行，是因为系统给它的进程分配了资源(cpu、内存)。
- 每打开一个Tab页，就相当于创建了一个独立的浏览器渲染进程。浏览器有自己的优化机制有时会将多个进程合并(譬如打开多个空白标签页后，会发现多个空白标签页被合并成了一个进程)。
### 浏览器包含的进程
1. Browser进程：浏览器的主进程(负责协调、主控)，只有一个。作用如下：
    - 负责浏览器界面显示绘制，与用户交互。如前进，后退等。
    - 负责各个页面的管理，创建和销毁其它进程。
    - 将浏览器渲染进程得到的内存中的Bitmap绘制到用户界面上。
    - 网络资源的管理，下载等。
2. 第三方插件进程：每种类型的插件对应一个进程，仅当使用该插件时才创建。
3. GPU进程：最多一个，用于3D绘制等。
4. 浏览器渲染进程(浏览器内核)：内部是多线程的，默认每个Tab页面一个进程，互不影响。主要作用为页面渲染，脚本执行，事件处理等。
### 浏览器多进程的优势
- 避免单个page crash影响整个浏览器。
- 避免第三方插件crash影响整个浏览器。
- 多进程充分利用多核优势。
- 方便使用沙盒模型隔离插件等进程，提高浏览器稳定性。
### Browser进程和浏览器渲染进程的通信过程
1. Browser进程收到用户请求，首先需要获取页面内容(譬如通过网络下载资源)，随后将该任务通过RendererHost接口传递给渲染进程。
2. 渲染进程的Renderer接口收到消息，简单解释后，交给GUI渲染线程，然后开始渲染。
    - 渲染线程接收请求，加载网页并渲染网页，这其中可能需要Browser进程获取资源和需要GPU进程来帮助渲染。
    - 当然可能会有JS线程操作DOM(可能会造成回流并重绘)。
    - 最后渲染进程将结果传递给Browser进程。
3. Browser进程接收到结果并将结果绘制出来。