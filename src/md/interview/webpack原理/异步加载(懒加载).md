## [异步加载(懒加载)](https://juejin.cn/post/7152516872330543141/)
- 懒加载或者按需加载，是一种很好的优化网页或应用的方式。
- 先把代码在一些逻辑断点处分离开，然后在一些代码块中完成某些操作后再引用另外一些新的代码块。这样加快了应用的初始加载速度，减轻了应用的总体积。
- 懒加载的本质实际上就是代码分离，把代码分离到不同的bundle中，然后按需加载或并行加载这些文件。
### 在Webpack中常用的代码分离方法有三种：
1. 入口起点：使用entry配置手动地分离代码(多入口)。
2. 防止重复：使用SplitChunksPlugin去重和分离chunk。
3. 动态导入：通过模块的动态导入来分离代码。
    1. 使用符合ECMAScript提案的import()语法来实现动态导入。（推荐）
    2. 使用Webpack特定的require.ensure功能实现动态导入。（不推荐）
### import()
- import()的语法十分简单，该函数只接受一个参数，就是引用模块的地址，并且使用promise式的回调获取加载的模块。
- 在代码中所有被import()的模块，都将打成一个单独的模块，放在chunk存储的目录下。在浏览器运行到这一行代码时，就会自动请求这个资源，实现异步加载。
- 常见使用场景：路由懒加载。
### Webpack实现异步加载的原理
1. 通过jsonp的方式去加载异步加载模块所对应的文件。
2. 加载回来后在浏览器中执行此JS脚本，将请求过来的模块定义合并到main.js中的modules中去。
3. 合并完后加载这个模块，返回的是一个export对象。
4. 拿到该模块导出的内容，第三步中导出的是一个export对象，又因为是默认导出，所以使用module.default获取模块导出的内容。

